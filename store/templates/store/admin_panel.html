{% extends 'store/base.html' %}
{% block title %}Admin Panel - Shopilo{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto">
  <h1 class="text-4xl font-bold mb-8 text-[#DAA520]">Admin Panel</h1>

  <!-- Products Section -->
  <div class="mb-12 bg-white shadow rounded-lg p-6">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-2xl font-semibold text-gray-800">Products</h2>
      <a href="{% url 'product_add' %}" 
         class="bg-[#DAA520] hover:bg-[#b8860b] text-white text-sm px-4 py-2 rounded shadow-md transition duration-200">
        + Add Product
      </a>
    </div>

    {% if products %}
      <div class="overflow-x-auto">
        <table class="min-w-full border border-gray-200">
          <thead class="bg-[#FFF8DC]">
            <tr>
              <th class="px-4 py-2 text-left">Name</th>
              <th class="px-4 py-2 text-left">Price</th>
              <th class="px-4 py-2 text-left">Category</th>
              <th class="px-4 py-2 text-left">Stock</th>
              <th class="px-4 py-2 text-left">Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for product in products %}
              <tr class="border-b hover:bg-gray-50 transition">
                <td class="px-4 py-2">{{ product.name }}</td>
                <td class="px-4 py-2">${{ product.price }}</td>
                <td class="px-4 py-2">{{ product.category.name }}</td>
                <td class="px-4 py-2">{{ product.stock }}</td>
                <td class="px-4 py-2 space-x-2">
                  <a href="{% url 'product_edit' product.pk %}" class="text-[#1E90FF] hover:underline text-sm">Edit</a>
                  <a href="{% url 'product_delete' product.pk %}" class="text-red-600 hover:underline text-sm">Delete</a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <p class="text-gray-600">No products found.</p>
    {% endif %}
  </div>

  <!-- Categories Section -->
  <div class="bg-white shadow rounded-lg p-6">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-2xl font-semibold text-gray-800">Categories</h2>
      <a href="{% url 'category_add' %}" 
         class="bg-[#DAA520] hover:bg-[#b8860b] text-white text-sm px-4 py-2 rounded shadow-md transition duration-200">
        + Add Category
      </a>
    </div>

    {% if categories %}
      <ul class="divide-y divide-gray-200">
        {% for category in categories %}
          <li class="py-2 flex justify-between items-center">
            <span>{{ category.name }}</span>
            <div class="space-x-2">
              <a href="{% url 'category_edit' category.pk %}" class="text-[#1E90FF] hover:underline text-sm">Edit</a>
              <a href="{% url 'category_delete' category.pk %}" class="text-red-600 hover:underline text-sm">Delete</a>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-gray-600">No categories found.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
